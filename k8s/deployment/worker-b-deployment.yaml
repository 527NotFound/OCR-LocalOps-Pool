apiVersion: apps/v1
kind: Deployment
metadata:
  name: worker-b-deployment
  namespace: ocr-dev
  labels:
    app: ocr-worker-b
spec:
  replicas: 2 # í‘œì¤€ ì›Œì»¤ë¡œ 2ê°œì˜ ë³µì œë³¸ ìœ ì§€
  selector:
    matchLabels:
      app: ocr-worker-b
  template:
    metadata:
      labels:
        app: ocr-worker-b
    spec:
      containers:
      - name: worker-b-container
        # ğŸ’¡ Jenkinsì—ì„œ ë¹Œë“œ/í‘¸ì‹œí•  ì´ë¯¸ì§€ ì£¼ì†Œ (Local Registry)
        image: 192.168.64.17:5000/ocr-worker-b:latest
        ports:
        - containerPort: 8000
        env:
        # Worker B ì„¤ì •: ë‹¤êµ­ì–´(eng+kor+jpn) íŒ© ì‚¬ìš© ëª…ì‹œ
        - name: WORKER_ID
          value: "B"
        - name: TESSERACT_LANGS
          value: "eng+kor+jpn"
        - name: PREPROCESS_MODE
          value: "STANDARD"
        resources:
          limits:
            cpu: "1500m" # ë‹¤êµ­ì–´ íŒ©ê³¼ í‘œì¤€ ì²˜ë¦¬ë¥¼ ìœ„í•´ Worker Aë³´ë‹¤ ì•½ê°„ ë†’ê²Œ ì„¤ì •
          requests:
            cpu: "750m"